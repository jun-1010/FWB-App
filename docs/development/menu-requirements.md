# 📋 要件整理：メニューコンテンツ切り替えの実装

## 🖥️ PCモード（画面幅が広いとき）

- サイドバーが常時表示される。
- サイドバーのメニューを選択すると、右側のメインコンテンツが切り替わる。
- レイアウト構成：`Sidebar + MainContent` の2カラム。

## 📱 SPモード（画面幅が狭いとき）

- 初期状態ではメニュー画面（全画面）が表示される。
- メニュー選択時：
  - メニュー画面が左にフェードアウト
  - メインコンテンツが右からフェードイン
- 戻るジェスチャー（ブラウザ戻る or カスタムスワイプ）でメニューに戻れるようにする。

## 📌 共通メニュー（MainContentの種類）

1. ダッシュボード
2. 収入＆支出
3. 資産＆負債
4. 予算＆ライフプラン
5. 設定

---

# 🧱 Reactコンポーネント設計案

```
<App>
├─ <ResponsiveLayout>
│  ├─ <SidebarMenu />     ← PC：常駐 / SP：メニュー画面
│  └─ <MainContent />     ← 5種類のコンテンツをルーティング表示
└─ <RouteManager />       ← ルーティングと履歴管理
```

---

## 💡 表示切り替えロジック：URL管理推奨

| 管理方式                   | 理由                                                               |
| -------------------------- | ------------------------------------------------------------------ |
| ✅ URL管理（React Router） | 履歴管理・戻る操作・状態保持に強い。SPの戻るジェスチャーにも対応。 |
| state管理のみ              | 単純だが履歴や共有に不向き。SPA全体では非推奨。                    |

→ メニュー選択：`<Link to="/dashboard">` のようにルーティング処理

---

# 🧩 各コンポーネントの役割

## `<App>`

- 全体構成とルーティング管理

## `<ResponsiveLayout>`

- `useMediaQuery`などでPC/SPを判定し、UI構造を切り替える

## `<SidebarMenu>`

- PC：左固定メニューとして常時表示
- SP：初期画面としてメニュー一覧を表示し、選択でコンテンツ切り替え

## `<MainContent>`

- 選択されたルートに応じて以下のコンポーネントを表示：
  - `<Dashboard />`
  - `<IncomeExpense />`
  - `<AssetsLiabilities />`
  - `<BudgetPlan />`
  - `<Settings />`

## `<RouteManager>`（任意）

- `react-router-dom` の設定と履歴管理
- SPでの戻る操作などを統括

---

# 🎬 アニメーション設計（SPモード）

| トリガー       | アクション                                                     |
| -------------- | -------------------------------------------------------------- |
| メニュー選択時 | メニューが左にスライドアウト<br>コンテンツが右からフェードイン |
| 戻る操作       | `history.back()` またはスワイプジェスチャーでメニューに戻る    |

※ `framer-motion` などのライブラリ使用を想定
